<html>
<head>
    <meta name="theme-color" content="#5aaafa">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/vis.min.css">
    <link rel="stylesheet" href="css/sxsw.css">
    <link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css">
    <script>
        var webSocketProtocol = '<%= webSocketProtocol %>';
        var mapboxAccessToken = '<%= mapboxAccessToken%>';
    </script>
</head>
<body class="capped-layout">

<header class="capped-layout_cap app-banner">
    <span class="app-banner_title">Watson Event Finder</span>
</header>

<div id="app">
    <div class="layout_section">
        <form class="form" onsubmit="return false;">
            <fieldset class="form_field">
                <input id="message" aria-label="Enter your message..." class="input_text" type="text" autocomplete="off" name="message" v-model="message" :disabled="! webSocketConnected" placeholder="Enter your message...">
            </fieldset>
            <div>
                <button id="sendmessage" type="submit" class="button_primary" :disabled="! webSocketConnected" v-on:click="submitMessage">Send</button>
            </div>
        </form>
        <div class="chat-message" v-for="msg in messages">
            <div class="msg-body">
                <div class="msg-chat bubble">
                    <chat-message :key="msg.key" :msg="msg"></chat-message>
                </div>
                <div class="msg-user" v-html="msg.user"></div>
            </div>
        </div>
    </div>
    <div id="map"></div>
</div>

<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js"></script>
<script src="js/pouchdb-6.1.0.min.js"></script>
<script src="js/vis-4.5.0.min.js"></script>
<script src="js/vue-2.1.8.min.js"></script>
<script src="js/vue-resource-1.0.3.min.js"></script>
<script src="js/app.js"></script>

</body>
</html>